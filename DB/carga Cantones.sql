   SELECT * FROM Destelec$;use proyectoIngenieria2SET IDENTITY_INSERT Canton OFF;SET IDENTITY_INSERT Canton ON;SELECT * FROM Destelec$ALTER PROCEDURE sp_loadCantonesAS SET NOCOUNT ONBEGIN DECLARE @auxIdTurno INT; --Con estas dos lineas obtenemos el ultimo idTurno, insertado en el insert anterior
SET @auxIdTurno = 0;  INSERT INTO Canton    SELECT DISTINCT  D.cantonElectoral, CONCAT(SUBSTRING(CAST(D.codigoCompuesto AS NVARCHAR(10)),1,1),		SUBSTRING(CAST(D.codigoCompuesto AS NVARCHAR(10)),2,2)) AS idCanton,		--SUBSTRING(CAST(D.codigoCompuesto AS NVARCHAR(10)),4,3)) AS compuesta,	--	(@auxIdTurno++1),	--SUBSTRING(CAST(D.codigoCompuesto AS NVARCHAR(10)),2,2) AS idCanton,	SUBSTRING(CAST(D.codigoCompuesto AS NVARCHAR(10)),1,1) AS idProvincia FROM Destelec$ AS D  ORDER BY  D.cantonElectoral;END--SUBSTRING(CAST(D.codigoCompuesto AS NVARCHAR(10)),1,1)EXEC sp_loadCantones;SELECT * FROM Canton;SELECT * FROM Provincia;-- UN DIJITO, ES PROVINCIA, (1) 01001-- DOS DIGITOS ES CANTON    1 (01) 001-- TRES DIGITOS ES DISTRITO 1 01 (001)SELECT SUBSTRING(CAST(D.codigoCompuesto AS NVARCHAR(10)),1,1) AS PROVINICIA,SUBSTRING(CAST(D.codigoCompuesto AS NVARCHAR(10)),2,2) AS CANTON,SUBSTRING(CAST(D.codigoCompuesto AS NVARCHAR(10)),4,3) AS DistritoElectoral FROM Destelec$ AS D;SELECT * FROM Canton;SELECT * FROM Destelec$ SELECT * FROM PADRON_COMPLETO  SELECT DISTINCT  D.distritoElectoral,     SELECT * FROM PADRON_COMPLETO        CONCAT(				SUBSTRING(CAST(D.codigoCompuesto AS NVARCHAR(10)),1,1),		SUBSTRING(CAST(D.codigoCompuesto AS NVARCHAR(10)),2,2),		SUBSTRING(CAST(D.codigoCompuesto AS NVARCHAR(10)),4,3)) AS compuesta,		SUBSTRING(CAST(D.codigoCompuesto AS NVARCHAR(10)),4,3) AS idDistrito	   -- SUBSTRING(CAST(D.codigoCompuesto AS NVARCHAR(10)),2,2) AS idCanton 				 FROM Destelec$ AS D  ORDER BY  D.distritoElectoral;USE MASTERSELECT * FROM Destelec$;SELECT DISTINCT  D.cantonElectoral ,CONCAT(SUBSTRING(D.codigoCompuesto,2,2),SUBSTRING(D.codigoCompuesto,1,1)) AS compuesta,SUBSTRING(D.codigoCompuesto,2,2) AS idCanton,SUBSTRING(D.codigoCompuesto,1,1) AS idProvincia FROM Destelec$ AS DORDER BY  D.cantonElectoral;   SELECT   D.cantonElectoral, CONCAT(SUBSTRING(CAST(D.codigoCompuesto AS NVARCHAR(10)),1,1),		SUBSTRING(CAST(D.codigoCompuesto AS NVARCHAR(10)),2,2))		 AS compuesta FROM Destelec$ AS D		SELECT * FROM Destelec$;